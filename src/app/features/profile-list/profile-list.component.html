<crx-page>
    <div class="header">
        <crx-header pageTitle="Profiles"></crx-header>
    </div>
    <div *ngIf="profiles$ | async as profiles" class="profiles-table-container">
        <table mat-table [dataSource]="profiles" class="mat-elevation-z8">

            <!--- Note that these columns can be defined in any order.
                The actual rendered columns are set as a property on the row definition" -->
            <!-- ID Column -->
            <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef> ID </th>
                <td mat-cell *matCellDef="let profile"> {{ profile.id }} </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Name. </th>
                <td mat-cell *matCellDef="let profile"> {{ profile.name.first }} {{ profile.name.last }} </td>
            </ng-container>

            <!-- Date Column -->
            <ng-container matColumnDef="gender">
                <th mat-header-cell *matHeaderCellDef> Gender. </th>
                <td mat-cell *matCellDef="let profile"> {{ profile.gender }} </td>
            </ng-container>

            <!-- Email Column -->
            <ng-container matColumnDef="email">
                <th mat-header-cell *matHeaderCellDef> Email. </th>
                <td mat-cell *matCellDef="let profile"> {{ profile.email }} </td>
            </ng-container>

            <!-- Phone Column -->
            <ng-container matColumnDef="phone">
                <th mat-header-cell *matHeaderCellDef> Phone. </th>
                <td mat-cell *matCellDef="let profile"> {{ profile.phone }} </td>
            </ng-container>

            <!-- Date Column -->
            <ng-container matColumnDef="dob">
                <th mat-header-cell *matHeaderCellDef> Date of Birth. </th>
                <td mat-cell *matCellDef="let profile"> {{ profile.dob.date.slice(0, 10) }} </td>
            </ng-container>

            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef width="100"> Actions </th>
                <td mat-cell *matCellDef="let profile">
                    <a (click)="gotoDetails(profile.id)" class="btn btn-secondary btn-lg">Show Details</a>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>
</crx-page>
